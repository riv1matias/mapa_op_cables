<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_79b1dbf76fc73cb5c8408c5b04ee3ef3 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css"/>
</head>
<body>
    
    
        <script>
          console.log("Iniciando script de control...");
          var map = null;
          var tempMarker = null;
          var pendingActions = [];
          var markerCluster = null;
          var currentPopup = null;
          var isClosingPopup = false;
          var isPendingListExpanded = false;
          var isNoMapeadasListExpanded = false;
          var isFiltersExpanded = false;
          var fotosPorCaso = {"5861": ["https://drive.google.com/thumbnail?id=17soVmh3ko7hefEm-0tv6SgqbdH-LS3tT", "https://drive.google.com/thumbnail?id=1RtebVh3Z2wry3nGfmluhPW-Ovg810DLS", "https://drive.google.com/thumbnail?id=1Ux0InuOu5W_cSD6vniDQOLGljXP6pdwC", "https://drive.google.com/thumbnail?id=1JJ4GV6e9bBwxeDs61wirTlJaC1fAjN7x"], "5862": ["https://drive.google.com/thumbnail?id=1-Is7jrlymQHCKXh0Hj0lTHOV6UTr20Ne", "https://drive.google.com/thumbnail?id=1tLmQoZxWCgSCywEDy1ip3qx1Qhq5spT0", "https://drive.google.com/thumbnail?id=1FURQNyNi_iN1idNURBWkDvdqRzEUcaFT", "https://drive.google.com/thumbnail?id=1Q08G3PUSmbzgzOvJC42nHJFTRCz1S7ck"], "5868": ["https://drive.google.com/thumbnail?id=16TkE0Ts28wLm6QKPQPVgPQ-1mYjAm8mp", "https://drive.google.com/thumbnail?id=1Gj8B_-x-iK6U483z59ze8V01sE8bH6Pf", "https://drive.google.com/thumbnail?id=1aOyzzi2mGSCj5eC7FfCBrAtuT_8AB7YT", "https://drive.google.com/thumbnail?id=1sfraoitXpvsfGXfgXMXMpyNUzKYcIMlH", "https://drive.google.com/thumbnail?id=1x9CoO-9PLoCfBfzyXXL5ytjgoK0Avpif"], "5869": ["https://drive.google.com/thumbnail?id=11G4XGkkUSg5ks5AMpBzqQHdjSEqA4PUy", "https://drive.google.com/thumbnail?id=18HcTPG-tyGdPqHtwFoa72aO_GwqCRIxD", "https://drive.google.com/thumbnail?id=1eARKEm6Pr8cf8HnyYr-egEE_K1v7dP03", "https://drive.google.com/thumbnail?id=1x9xQ6gNiFv1ZqcQi0CFKVIQ9tWZ8_pMd"], "276": ["https://drive.google.com/thumbnail?id=12xfyla5SmlYHWFfFoCD127hesYPVBYO2", "https://drive.google.com/thumbnail?id=1qorkGJw36FCcbv550437uw2N3ghfclaC", "https://drive.google.com/thumbnail?id=1yO5nW67-GN8VoF2SkKR7MixlxVKriouo"], "280": ["https://drive.google.com/thumbnail?id=1PZ0NiOQjFMDIQnkthla_meKgV301Iccd", "https://drive.google.com/thumbnail?id=1H3MBu89w2RkySTVm8MXki3kRTIrrqCoQ", "https://drive.google.com/thumbnail?id=1fVFBUFowbT4ORJmJIkcQKL2VNvH7JmIF"], "341": ["https://drive.google.com/thumbnail?id=1GxUmH4dvwwAHEOeMeIsLGZAhgA5AQXXV", "https://drive.google.com/thumbnail?id=1HTEi8vPR8oqoXd5N5vZrJq5yIS2YOeW5", "https://drive.google.com/thumbnail?id=1ZaBqJbKHgkZmeiW34-gBCaP5byOBnQ_G", "https://drive.google.com/thumbnail?id=1rIKVkLUquIMdw3kdLhr63swV7YLGpscD"], "403": ["https://drive.google.com/thumbnail?id=12tY7GaodeZS8YxES0t-V1nUhVziaQpWG", "https://drive.google.com/thumbnail?id=1pTDANXpK55Zg69dOHmbnXvvWWCMol3he"], "418": ["https://drive.google.com/thumbnail?id=1CfN3-q1ZdwJ6fbj9WfI-B9SljnszN2jH", "https://drive.google.com/thumbnail?id=1iSMjgi-Bc7gtSykX2nFI4glPQj1Zqsye"], "439": ["https://drive.google.com/thumbnail?id=1KIbAppP4cUMLoZM_M_x_ixmAI7DQVCxR", "https://drive.google.com/thumbnail?id=1McjVPNfUdGArZTIQwrfa3ciOz41kE-Mt", "https://drive.google.com/thumbnail?id=1cBUZ3fz72xXOntvmQPMM3mXIijWIXtYB", "https://drive.google.com/thumbnail?id=1jYhVydKbLNFiJNhWQNYrskVVwl7qk9D3"], "641": ["https://drive.google.com/thumbnail?id=1Oaq6rCdj6Hqy-A55Ix7gG8rEzyjL73x_"], "716": ["https://drive.google.com/thumbnail?id=1c46RHL5McTKipSClI17tDuxU8tFscATR"], "851": ["https://drive.google.com/thumbnail?id=1ArqHQTWhH2q37rOb_4F7zSh7WwXBx6xi", "https://drive.google.com/thumbnail?id=1O84lpo3wkxWNl4s9Y5qpuF0Dj1sem7rL", "https://drive.google.com/thumbnail?id=1XQm0bianji-wCsRvXRPCZbRPczwk5fMk", "https://drive.google.com/thumbnail?id=1HElRp_hExMrUwAUldsvWeU-HI4tcNxbq"], "865": ["https://drive.google.com/thumbnail?id=1LvWZ5_2uspPgQ8Pversgdl6cGfPkGhoj", "https://drive.google.com/thumbnail?id=1Qos2WREqMH3icW_08j4Qwl7V3P9euJZA", "https://drive.google.com/thumbnail?id=1lnFggEPHEguLaBSX3IFFzWJSsGFtqOKV"], "868": ["https://drive.google.com/thumbnail?id=1g0uuFvSnrCqeELpq4ILnSlz41VmH7eIz", "https://drive.google.com/thumbnail?id=1liZjh9wecgPVuux9P63bnOSehPM1cNSo", "https://drive.google.com/thumbnail?id=1hCn099ZQKdDgpX3C98C5jAojfwCtVzM7"]};
          var allPuntos = [{"direccion": "TERRADA 38", "lat": -34.629828, "lng": -58.468589, "caso": "5861", "comuna": "7", "ot": "806976057", "observaciones": "cables a baja altura", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"5861\" data-comuna=\"7\">\n            <b>Direcci\u00f3n:</b> TERRADA 38<br>\n            <b>Comuna:</b> 7<br>\n            <b>OT:</b> 806976057<br>\n            <b>Observaciones:</b><br>cables a baja altura<br>\n            <b>Caso:</b> 5861<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.629828,-58.468589\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('5861'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "CHARCAS 3715", "lat": -34.588033, "lng": -58.417181, "caso": "5862", "comuna": "14", "ot": "806976061", "observaciones": "Cable en panza;Cable cortado", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"5862\" data-comuna=\"14\">\n            <b>Direcci\u00f3n:</b> CHARCAS 3715<br>\n            <b>Comuna:</b> 14<br>\n            <b>OT:</b> 806976061<br>\n            <b>Observaciones:</b><br>Cable en panza;Cable\ncortado<br>\n            <b>Caso:</b> 5862<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.588033,-58.417181\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('5862'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "CONESA 4370", "lat": -34.545825, "lng": -58.477194, "caso": "5868", "comuna": "12", "ot": "806976063", "observaciones": "Cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"5868\" data-comuna=\"12\">\n            <b>Direcci\u00f3n:</b> CONESA 4370<br>\n            <b>Comuna:</b> 12<br>\n            <b>OT:</b> 806976063<br>\n            <b>Observaciones:</b><br>Cable en panza<br>\n            <b>Caso:</b> 5868<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.545825,-58.477194\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('5868'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "SUPERI 3555", "lat": -34.55485, "lng": -58.477391, "caso": "5869", "comuna": "12", "ot": "806976064", "observaciones": "Cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"5869\" data-comuna=\"12\">\n            <b>Direcci\u00f3n:</b> SUPERI 3555<br>\n            <b>Comuna:</b> 12<br>\n            <b>OT:</b> 806976064<br>\n            <b>Observaciones:</b><br>Cable en panza<br>\n            <b>Caso:</b> 5869<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.55485,-58.477391\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('5869'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "MANUEL EGUIA 989", "lat": -34.640144, "lng": -58.455714, "caso": "276", "comuna": "7", "ot": "806976065", "observaciones": "ables cortados sobre el frente de la propiedad.", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"276\" data-comuna=\"7\">\n            <b>Direcci\u00f3n:</b> MANUEL EGUIA 989<br>\n            <b>Comuna:</b> 7<br>\n            <b>OT:</b> 806976065<br>\n            <b>Observaciones:</b><br>ables cortados sobre el\nfrente de la propiedad.<br>\n            <b>Caso:</b> 276<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.640144,-58.455714\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('276'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "CRIS\u00d3LOGO LARRALDE 6095", "lat": -34.567055, "lng": -58.503981, "caso": "280", "comuna": "12", "ot": "806976081", "observaciones": "cables cortados y ca\u00eddos.", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"280\" data-comuna=\"12\">\n            <b>Direcci\u00f3n:</b> CRIS\u00d3LOGO LARRALDE 6095<br>\n            <b>Comuna:</b> 12<br>\n            <b>OT:</b> 806976081<br>\n            <b>Observaciones:</b><br>cables cortados y ca\u00eddos.<br>\n            <b>Caso:</b> 280<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.567055,-58.503981\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('280'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Giribone 1618", "lat": -34.579572, "lng": -58.465007, "caso": "341", "comuna": "15", "ot": "806976083", "observaciones": "se encuentra un Cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"341\" data-comuna=\"15\">\n            <b>Direcci\u00f3n:</b> Giribone 1618<br>\n            <b>Comuna:</b> 15<br>\n            <b>OT:</b> 806976083<br>\n            <b>Observaciones:</b><br>se encuentra un Cable en\npanza<br>\n            <b>Caso:</b> 341<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.579572,-58.465007\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('341'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Av Juan de Garay 3049", "lat": -34.629321, "lng": -58.407447, "caso": "403", "comuna": "3", "ot": "806976097", "observaciones": "Cable en panza de Cablevision.", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"403\" data-comuna=\"3\">\n            <b>Direcci\u00f3n:</b> Av Juan de Garay 3049<br>\n            <b>Comuna:</b> 3<br>\n            <b>OT:</b> 806976097<br>\n            <b>Observaciones:</b><br>Cable en panza de\nCablevision.<br>\n            <b>Caso:</b> 403<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.629321,-58.407447\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('403'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Nueva York 4010", "lat": -34.600236, "lng": -58.51173, "caso": "418", "comuna": "11", "ot": "806976140", "observaciones": "se observan tendidos a baja altura.", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"418\" data-comuna=\"11\">\n            <b>Direcci\u00f3n:</b> Nueva York 4010<br>\n            <b>Comuna:</b> 11<br>\n            <b>OT:</b> 806976140<br>\n            <b>Observaciones:</b><br>se observan tendidos a\nbaja altura.<br>\n            <b>Caso:</b> 418<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.600236,-58.51173\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('418'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "INCLAN 4293", "lat": -34.633509, "lng": -58.423735, "caso": "439", "comuna": "4", "ot": "806976173", "observaciones": "Retirar cable RG11 cortado PROPIO colgando en altura indicada y atado en poste de la misma", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"439\" data-comuna=\"4\">\n            <b>Direcci\u00f3n:</b> INCLAN 4293<br>\n            <b>Comuna:</b> 4<br>\n            <b>OT:</b> 806976173<br>\n            <b>Observaciones:</b><br>Retirar cable RG11\ncortado PROPIO colgando\nen altura indicada y\natado en poste de la\nmisma<br>\n            <b>Caso:</b> 439<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.633509,-58.423735\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('439'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Zabala 2838", "lat": -34.572183, "lng": -58.452318, "caso": "641", "comuna": "13", "ot": "806976188", "observaciones": "Se observa un Tendido a baja altura", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"641\" data-comuna=\"13\">\n            <b>Direcci\u00f3n:</b> Zabala 2838<br>\n            <b>Comuna:</b> 13<br>\n            <b>OT:</b> 806976188<br>\n            <b>Observaciones:</b><br>Se observa un Tendido a\nbaja altura<br>\n            <b>Caso:</b> 641<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.572183,-58.452318\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('641'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "PARANA 763", "lat": -34.599811, "lng": -58.388091, "caso": "716", "comuna": "1", "ot": "806976213", "observaciones": "Tendido a baja altura obstaculiza alzamiento de contenedores", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"716\" data-comuna=\"1\">\n            <b>Direcci\u00f3n:</b> PARANA 763<br>\n            <b>Comuna:</b> 1<br>\n            <b>OT:</b> 806976213<br>\n            <b>Observaciones:</b><br>Tendido a baja altura\nobstaculiza alzamiento de\ncontenedores<br>\n            <b>Caso:</b> 716<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.599811,-58.388091\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('716'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "FRANKLIN 2427", "lat": -34.618068, "lng": -58.468107, "caso": "851", "comuna": "7", "ot": "806976219", "observaciones": "Cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"851\" data-comuna=\"7\">\n            <b>Direcci\u00f3n:</b> FRANKLIN 2427<br>\n            <b>Comuna:</b> 7<br>\n            <b>OT:</b> 806976219<br>\n            <b>Observaciones:</b><br>Cable en panza<br>\n            <b>Caso:</b> 851<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.618068,-58.468107\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('851'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Cantilo, jos\u00e9 Luis 4250", "lat": -34.603938, "lng": -58.51244, "caso": "865", "comuna": "11", "ot": "806976259", "observaciones": "Cable suelto;cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"865\" data-comuna=\"11\">\n            <b>Direcci\u00f3n:</b> Cantilo, jos\u00e9 Luis 4250<br>\n            <b>Comuna:</b> 11<br>\n            <b>OT:</b> 806976259<br>\n            <b>Observaciones:</b><br>Cable suelto;cable en\npanza<br>\n            <b>Caso:</b> 865<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.603938,-58.51244\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('865'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}, {"direccion": "Misiones 66", "lat": -34.610845, "lng": -58.404476, "caso": "868", "comuna": "3", "ot": "806976265", "observaciones": "Cable en panza", "popup_content": "\n        <div style='width: 200px; font: 12px Arial;' data-caso=\"868\" data-comuna=\"3\">\n            <b>Direcci\u00f3n:</b> Misiones 66<br>\n            <b>Comuna:</b> 3<br>\n            <b>OT:</b> 806976265<br>\n            <b>Observaciones:</b><br>Cable en panza<br>\n            <b>Caso:</b> 868<br>\n            <b>Ver en Google Maps:</b> <a href=\"https://www.google.com/maps?q=-34.610845,-58.404476\" target=\"_blank\">Abrir</a><br>\n            <br><b><a href=\"#\" onclick=\"mostrarFotos('868'); return false;\" style=\"font-size: 14px;\">Ver Fotos</a></b>\n        </div>\n        ", "color": "blue"}];
          var selectedMarker = null;
          var isComparisonMode = false;

          function waitForMap(callback) {
            var attempts = 0;
            var maxAttempts = 100;
            
            function tryInit() {
              attempts++;
              map = window['map_map_79b1dbf76fc73cb5c8408c5b04ee3ef3'];
              if (map) {
                console.log('Mapa inicializado después de', attempts, 'intentos');
                map.eachLayer(function(layer) {
                  if (layer instanceof L.MarkerClusterGroup) {
                    markerCluster = layer;
                    console.log('MarkerCluster encontrado:', markerCluster);
                  }
                });
                callback();
                return;
              }
              
              var mapFound = false;
              for (var key in window) {
                if (key.startsWith('map_') && window[key] instanceof L.Map) {
                  console.log('Mapa encontrado en window con clave:', key);
                  mapFound = true;
                  map = window[key];
                  map.eachLayer(function(layer) {
                    if (layer instanceof L.MarkerClusterGroup) {
                      markerCluster = layer;
                      console.log('MarkerCluster encontrado:', markerCluster);
                    }
                  });
                  callback();
                  return;
                }
              }
              
              if (attempts < maxAttempts) {
                console.log('Intento', attempts, 'de', maxAttempts, '- Mapa no encontrado aún');
                setTimeout(tryInit, 200);
              } else {
                console.error('No se pudo inicializar el mapa después de', maxAttempts, 'intentos');
                var mapElement = document.querySelector('.leaflet-container');
                if (mapElement && mapElement._leaflet_map) {
                  map = mapElement._leaflet_map;
                  console.log('Mapa encontrado directamente en el DOM');
                  map.eachLayer(function(layer) {
                    if (layer instanceof L.MarkerClusterGroup) {
                      markerCluster = layer;
                      console.log('MarkerCluster encontrado:', markerCluster);
                    }
                  });
                  callback();
                } else {
                  console.error('No se pudo encontrar el mapa ni en window ni en el DOM');
                }
              }
            }
            
            tryInit();
          }

          function processPendingActions() {
            pendingActions.forEach(function(action) {
              var lat = action.lat;
              var lng = action.lng;
              var popupContent = action.popupContent;
              
              console.log('Procesando acción pendiente - Centrando en:', lat, lng);
              
              map.setView([lat, lng], 15);
              
              if (tempMarker) {
                map.removeLayer(tempMarker);
                tempMarker = null;
              }
              
              tempMarker = L.marker([lat, lng]).addTo(map);
              tempMarker.bindPopup(popupContent).openPopup();
              currentPopup = tempMarker;
              
              console.log('Popup abierto en:', lat, lng);
            });
            pendingActions = [];
          }

          function toggleLista() {
            var list = document.getElementById('pending-list');
            var arrow = document.getElementById('pending-arrow');
            var panel = document.getElementById('pending-panel');
            if (!list || !arrow || !panel) {
              console.error('No se encontraron los elementos pending-list, pending-arrow o pending-panel');
              return;
            }
            isPendingListExpanded = !isPendingListExpanded;
            if (isPendingListExpanded) {
              list.style.display = 'block';
              arrow.style.transform = 'rotate(90deg)';
              panel.classList.add('expanded');
            } else {
              list.style.display = 'none';
              arrow.style.transform = 'rotate(0deg)';
              panel.classList.remove('expanded');
            }
            localStorage.setItem('pendingListExpanded', isPendingListExpanded);
            console.log('Lista "Direcciones Pendientes" toggled. Estado:', isPendingListExpanded);
          }
          
          function toggleFilters() {
            var filtersContent = document.getElementById('filters-content');
            var filtersArrow = document.getElementById('filters-arrow');
            var filtersPanel = document.getElementById('filters-panel');
            if (!filtersContent || !filtersArrow || !filtersPanel) {
              console.error('No se encontraron los elementos filters-content, filters-arrow o filters-panel');
              return;
            }
            isFiltersExpanded = !isFiltersExpanded;
            if (isFiltersExpanded) {
              filtersContent.style.display = 'block';
              filtersArrow.style.transform = 'rotate(90deg)';
              filtersPanel.classList.add('expanded');
            } else {
              filtersContent.style.display = 'none';
              filtersArrow.style.transform = 'rotate(0deg)';
              filtersPanel.classList.remove('expanded');
            }
            localStorage.setItem('filtersExpanded', isFiltersExpanded);
            console.log('Subpanel de filtros toggled. Estado:', isFiltersExpanded);
          }
          
          function toggleNoMapeadasLista() {
            var list = document.getElementById('no-mapeadas-list');
            var arrow = document.getElementById('no-mapeadas-arrow');
            var panel = document.getElementById('no-mapeadas-panel');
            if (!list || !arrow || !panel) {
              console.error('No se encontraron los elementos no-mapeadas-list, no-mapeadas-arrow o no-mapeadas-panel');
              return;
            }
            isNoMapeadasListExpanded = !isNoMapeadasListExpanded;
            if (isNoMapeadasListExpanded) {
              list.style.display = 'block';
              arrow.style.transform = 'rotate(90deg)';
              panel.classList.add('expanded');
            } else {
              list.style.display = 'none';
              arrow.style.transform = 'rotate(0deg)';
              panel.classList.remove('expanded');
            }
            localStorage.setItem('noMapeadasListExpanded', isNoMapeadasListExpanded);
            console.log('Lista "Direcciones No Mapeadas" toggled. Estado:', isNoMapeadasListExpanded);
          }
          
          function filtrarLista() {
            var direccionInput = document.getElementById('pending-search');
            var comunaFilter = document.getElementById('comuna-filter');
            var priorityFilter = document.getElementById('priority-filter');
            var list = document.getElementById('pending-list');
            var arrow = document.getElementById('pending-arrow');
            var panel = document.getElementById('pending-panel');
            
            if (!direccionInput || !comunaFilter || !priorityFilter || !list || !arrow || !panel) {
              console.error('No se encontraron los elementos de filtrado en filtrarLista');
              return;
            }
            
            var direccionFilter = direccionInput.value.toLowerCase();
            var comunaValue = comunaFilter.value;
            var priorityValue = priorityFilter.value;
            
            // Desplegar la lista y los filtros automáticamente si hay texto en algún campo
            var anyFilter = direccionFilter.length > 0 || comunaValue !== 'all' || priorityValue !== 'all';
            if (anyFilter) {
              if (!isPendingListExpanded) {
                isPendingListExpanded = true;
                list.style.display = 'block';
                arrow.style.transform = 'rotate(90deg)';
                panel.classList.add('expanded');
                localStorage.setItem('pendingListExpanded', isPendingListExpanded);
              }
              if (!isFiltersExpanded) {
                var filtersContent = document.getElementById('filters-content');
                var filtersArrow = document.getElementById('filters-arrow');
                var filtersPanel = document.getElementById('filters-panel');
                if (filtersContent && filtersArrow && filtersPanel) {
                  isFiltersExpanded = true;
                  filtersContent.style.display = 'block';
                  filtersArrow.style.transform = 'rotate(90deg)';
                  filtersPanel.classList.add('expanded');
                  localStorage.setItem('filtersExpanded', isFiltersExpanded);
                }
              }
            } else if (!anyFilter && isPendingListExpanded) {
              isPendingListExpanded = false;
              list.style.display = 'none';
              arrow.style.transform = 'rotate(0deg)';
              panel.classList.remove('expanded');
              localStorage.setItem('pendingListExpanded', isPendingListExpanded);
            }
            
            // Filtrar los elementos
            var items = list.getElementsByTagName('li');
            for (var i = 0; i < items.length; i++) {
              var direccion = (items[i].textContent || items[i].innerText).toLowerCase();
              var comuna = items[i].getAttribute('data-comuna').toLowerCase();
              
              var matchesDireccion = direccion.includes(direccionFilter);
              var matchesComuna = comunaValue === 'all' || comuna === comunaValue.toLowerCase();
              
              if (matchesDireccion && matchesComuna) {
                items[i].style.display = '';
                items[i].classList.add('highlight');
              } else {
                items[i].style.display = 'none';
                items[i].classList.remove('highlight');
              }
            }
            console.log('Filtrando lista "Direcciones Pendientes". Filtros:', {direccion: direccionFilter, comuna: comunaValue, prioridad: priorityValue});
          }
          
          function filtrarNoMapeadasLista() {
            var input = document.getElementById('no-mapeadas-search');
            var filter = input.value.toLowerCase();
            var list = document.getElementById('no-mapeadas-list');
            var arrow = document.getElementById('no-mapeadas-arrow');
            var panel = document.getElementById('no-mapeadas-panel');
            if (!input || !list || !arrow || !panel) {
              console.error('No se encontraron los elementos no-mapeadas-search, no-mapeadas-list, no-mapeadas-arrow o no-mapeadas-panel en filtrarNoMapeadasLista');
              return;
            }
            
            if (filter.length > 0 && !isNoMapeadasListExpanded) {
              isNoMapeadasListExpanded = true;
              list.style.display = 'block';
              arrow.style.transform = 'rotate(90deg)';
              panel.classList.add('expanded');
              localStorage.setItem('noMapeadasListExpanded', isNoMapeadasListExpanded);
            } else if (filter.length === 0 && isNoMapeadasListExpanded) {
              isNoMapeadasListExpanded = false;
              list.style.display = 'none';
              arrow.style.transform = 'rotate(0deg)';
              panel.classList.remove('expanded');
              localStorage.setItem('noMapeadasListExpanded', isNoMapeadasListExpanded);
            }
            
            var items = list.getElementsByTagName('li');
            for (var i = 0; i < items.length; i++) {
              var txtValue = items[i].textContent || items[i].innerText;
              if (txtValue.toLowerCase().includes(filter)) {
                items[i].style.display = '';
                items[i].classList.add('highlight');
              } else {
                items[i].style.display = 'none';
                items[i].classList.remove('highlight');
              }
            }
            console.log('Filtrando lista "Direcciones No Mapeadas". Filtro:', filter);
          }
          
          function filtrarPorPrioridad() {
            var priorityFilter = document.getElementById('priority-filter').value;
            markerCluster.clearLayers();
            allPuntos.forEach(function(punto) {
              if (priorityFilter === 'all' || punto.color === priorityFilter) {
                var marker = L.marker([punto.lat, punto.lng], {
                  icon: L.AwesomeMarkers.icon({
                    markerColor: punto.color,
                    icon: 'info-sign'
                  })
                }).bindPopup(punto.popup_content);
                markerCluster.addLayer(marker);
              }
            });
            localStorage.setItem('priorityFilter', priorityFilter);
            filtrarLista(); // Actualizar la lista también
            console.log('Filtrando por prioridad:', priorityFilter);
          }
          
          function filtrarPorComuna() {
            var comunaFilter = document.getElementById('comuna-filter').value;
            localStorage.setItem('comunaFilter', comunaFilter);
            filtrarLista(); // Actualizar la lista
            console.log('Filtrando por comuna:', comunaFilter);
          }
          
          function centrarEn(element) {
            var lat = parseFloat(element.getAttribute('data-lat'));
            var lng = parseFloat(element.getAttribute('data-lng'));
            var popupContent = element.getAttribute('data-popup');
            
            if (!map) {
              console.log('Mapa no inicializado aún, añadiendo acción a la cola');
              pendingActions.push({ lat: lat, lng: lng, popupContent: popupContent });
              return;
            }
            
            console.log('Centrando en:', lat, lng);
            
            map.setView([lat, lng], 15);
            
            closeCurrentPopup();
            
            tempMarker = L.marker([lat, lng]).addTo(map);
            tempMarker.bindPopup(popupContent).openPopup();
            currentPopup = tempMarker;
            
            // Resaltar el marcador seleccionado
            if (selectedMarker) {
              selectedMarker._icon.classList.remove('selected');
            }
            markerCluster.eachLayer(function(marker) {
              if (marker.getLatLng().lat === lat && marker.getLatLng().lng === lng) {
                marker._icon.classList.add('selected');
                selectedMarker = marker;
              }
            });
            
            // Cerrar el desplegable de "Direcciones Pendientes" automáticamente
            if (isPendingListExpanded) {
              toggleLista();
            }
            
            console.log('Popup abierto en:', lat, lng);
          }

          function mostrarFotos(caso) {
            console.log("Mostrando fotos para el caso: " + caso);
            console.log("Fotos disponibles: ", fotosPorCaso[caso]);
            var fotosPanel = document.getElementById('fotos-panel');
            var fotosContent = document.getElementById('fotos-content');
            var body = document.body;
            var comparisonBtn = document.getElementById('toggle-comparison-btn');
            
            var fotos = fotosPorCaso[caso] || [];
            
            fotosPanel.style.display = 'flex';
            body.classList.add('fotos-panel-visible');
            
            fotosContent.innerHTML = '';
            
            if (fotos.length === 0) {
              console.log("No hay fotos para este caso.");
              fotosContent.innerHTML = '<p>No hay fotos</p>';
              comparisonBtn.style.display = 'none';
            } else {
              console.log("Generando HTML para las fotos...");
              fotos.forEach(function(foto) {
                console.log("Procesando foto:", foto);
                var fotoHtml = `<div class="foto-item"><img src="${foto}" alt="Foto" onclick="abrirFotoGrande('${foto}')"></div>`;
                fotosContent.innerHTML += fotoHtml;
              });
              comparisonBtn.style.display = fotos.length > 1 ? 'flex' : 'none';
              if (isComparisonMode && fotos.length > 1) {
                enableComparisonMode();
              }
              console.log("HTML de fotos generado.");
            }
          }
          
          function cerrarFotos() {
            var fotosPanel = document.getElementById('fotos-panel');
            if (fotosPanel.style.display === 'flex') {
              console.log("Cerrando panel de fotos...");
              var body = document.body;
              fotosPanel.style.display = 'none';
              body.classList.remove('fotos-panel-visible');
              isComparisonMode = false;
              document.getElementById('fotos-panel').classList.remove('comparison-mode');
            }
          }
          
          function abrirFotoGrande(fotoUrl) {
            console.log("Abriendo foto en grande:", fotoUrl);
            var viewer = document.getElementById('fotos-viewer');
            var viewerImg = document.getElementById('fotos-viewer-img');
            viewerImg.src = fotoUrl;
            viewer.style.display = 'flex';
          }
          
          function cerrarFotoGrande() {
            console.log("Cerrando visor de fotos...");
            var viewer = document.getElementById('fotos-viewer');
            viewer.style.display = 'none';
          }
          
          function enableComparisonMode() {
            var fotosPanel = document.getElementById('fotos-panel');
            var fotosContent = document.getElementById('fotos-content');
            var divider = document.getElementById('comparison-divider');
            var fotoItems = fotosContent.getElementsByClassName('foto-item');
            
            if (fotoItems.length < 2) return;
            
            fotosPanel.classList.add('comparison-mode');
            
            var firstImg = fotoItems[0].querySelector('img');
            var secondImg = fotoItems[1].querySelector('img');
            
            firstImg.style.width = '50%';
            secondImg.style.width = '50%';
            
            divider.style.left = '50%';
            
            let isDragging = false;
            
            divider.addEventListener('mousedown', function(e) {
              isDragging = true;
            });
            
            document.addEventListener('mousemove', function(e) {
              if (!isDragging) return;
              var rect = fotosContent.getBoundingClientRect();
              var offsetX = e.clientX - rect.left;
              var percentage = (offsetX / rect.width) * 100;
              percentage = Math.max(10, Math.min(90, percentage));
              divider.style.left = percentage + '%';
              fotoItems[0].style.width = percentage + '%';
              fotoItems[1].style.width = (100 - percentage) + '%';
            });
            
            document.addEventListener('mouseup', function() {
              isDragging = false;
            });
            
            // Soporte táctil para el divisor
            divider.addEventListener('touchstart', function(e) {
              isDragging = true;
              e.preventDefault();
            });
            
            document.addEventListener('touchmove', function(e) {
              if (!isDragging) return;
              var rect = fotosContent.getBoundingClientRect();
              var offsetX = e.touches[0].clientX - rect.left;
              var percentage = (offsetX / rect.width) * 100;
              percentage = Math.max(10, Math.min(90, percentage));
              divider.style.left = percentage + '%';
              fotoItems[0].style.width = percentage + '%';
              fotoItems[1].style.width = (100 - percentage) + '%';
              e.preventDefault();
            });
            
            document.addEventListener('touchend', function() {
              isDragging = false;
            });
          }
          
          function toggleComparisonMode() {
            isComparisonMode = !isComparisonMode;
            var fotosPanel = document.getElementById('fotos-panel');
            if (isComparisonMode) {
              enableComparisonMode();
            } else {
              fotosPanel.classList.remove('comparison-mode');
              var fotoItems = document.getElementsByClassName('foto-item');
              for (var i = 0; i < fotoItems.length; i++) {
                fotoItems[i].style.width = '100%';
              }
            }
          }
          
          function locateMe() {
            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                var lat = position.coords.latitude;
                var lng = position.coords.longitude;
                map.setView([lat, lng], 15);
                L.marker([lat, lng], {
                  icon: L.AwesomeMarkers.icon({
                    markerColor: 'blue',
                    icon: 'user'
                  })
                }).addTo(map).bindPopup('Tu ubicación').openPopup();
                console.log('Centrado en ubicación del usuario:', lat, lng);
              }, function(error) {
                console.error('Error al obtener la ubicación:', error);
                alert('No se pudo obtener tu ubicación. Asegúrate de permitir el acceso a la geolocalización.');
              });
            } else {
              console.error('Geolocalización no soportada por el navegador');
              alert('Tu navegador no soporta geolocalización.');
            }
          }
          
          function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            var isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);
            console.log('Modo oscuro:', isDarkMode);
          }
          
          function exportToCSV() {
            var csv = [];
            var headers = ['Dirección', 'Comuna', 'Caso', 'OT', 'Latitud', 'Longitud'];
            csv.push(headers.join(','));
            
            // Exportar Direcciones Pendientes
            allPuntos.forEach(function(punto) {
              var row = [
                `"${punto.direccion.replace(/"/g, '""')}"`,
                `"${punto.comuna.replace(/"/g, '""')}"`,
                `"${punto.caso.replace(/"/g, '""')}"`,
                `"${punto.ot.replace(/"/g, '""')}"`,
                punto.lat,
                punto.lng
              ];
              csv.push(row.join(','));
            });
            
            // Exportar Direcciones No Mapeadas
            var noMapeadasItems = document.querySelectorAll('#no-mapeadas-list li');
            noMapeadasItems.forEach(function(item) {
              var row = [
                `"${item.textContent.replace(/"/g, '""')}"`,
                '', '', '', '', ''
              ];
              csv.push(row.join(','));
            });
            
            var csvContent = csv.join('\n');
            var blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            var link = document.createElement('a');
            var url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', 'direcciones_mapa.csv');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            console.log('Exportado a CSV');
          }
          
          function toggleTableView() {
            var tablePanel = document.getElementById('table-panel');
            var tableRows = document.getElementById('table-rows');
            if (tablePanel.style.display === 'flex') {
              tablePanel.style.display = 'none';
              return;
            }
            
            tableRows.innerHTML = '';
            allPuntos.forEach(function(punto) {
              var row = document.createElement('tr');
              row.setAttribute('data-lat', punto.lat);
              row.setAttribute('data-lng', punto.lng);
              row.setAttribute('data-popup', punto.popup_content);
              row.innerHTML = `
                <td>${punto.direccion}</td>
                <td>${punto.comuna}</td>
                <td>${punto.caso}</td>
                <td>${punto.ot}</td>
              `;
              tableRows.appendChild(row);
            });
            
            tablePanel.style.display = 'flex';
          }
          
          function limpiarPopupsAntiguos() {
            console.log("Limpiando popups antiguos del DOM...");
            var popups = document.querySelectorAll('.leaflet-popup');
            popups.forEach(function(popup) {
              console.log("Eliminando popup del DOM:", popup);
              popup.remove();
            });
          }
          
          function closeCurrentPopup() {
            if (isClosingPopup) {
              console.log("closeCurrentPopup ya está en ejecución, evitando recursión.");
              return;
            }
            isClosingPopup = true;
            try {
              if (currentPopup) {
                console.log("Cerrando popup actual...");
                map.closePopup();
                currentPopup = null;
              }
              if (tempMarker) {
                console.log("Eliminando marcador temporal...");
                map.removeLayer(tempMarker);
                tempMarker = null;
              }
              if (selectedMarker) {
                selectedMarker._icon.classList.remove('selected');
                selectedMarker = null;
              }
              limpiarPopupsAntiguos();
              cerrarFotos();
            } finally {
              isClosingPopup = false;
            }
          }

          // Inicializar eventos después de que el DOM esté cargado
          document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM cargado, inicializando eventos...");

            // Ocultar el indicador de carga
            setTimeout(function() {
              document.getElementById('loading-overlay').style.display = 'none';
            }, 1000);

            // Restaurar estado desde localStorage
            isPendingListExpanded = localStorage.getItem('pendingListExpanded') === 'true';
            isNoMapeadasListExpanded = localStorage.getItem('noMapeadasListExpanded') === 'true';
            isFiltersExpanded = localStorage.getItem('filtersExpanded') === 'true';
            var savedPriorityFilter = localStorage.getItem('priorityFilter') || 'all';
            var savedComunaFilter = localStorage.getItem('comunaFilter') || 'all';
            var savedDarkMode = localStorage.getItem('darkMode') === 'true';

            var pendingList = document.getElementById('pending-list');
            var pendingArrow = document.getElementById('pending-arrow');
            var pendingPanel = document.getElementById('pending-panel');
            var filtersContent = document.getElementById('filters-content');
            var filtersArrow = document.getElementById('filters-arrow');
            var filtersPanel = document.getElementById('filters-panel');
            var noMapeadasList = document.getElementById('no-mapeadas-list');
            var noMapeadasArrow = document.getElementById('no-mapeadas-arrow');
            var noMapeadasPanel = document.getElementById('no-mapeadas-panel');
            var priorityFilter = document.getElementById('priority-filter');
            var comunaFilter = document.getElementById('comuna-filter');

            if (isPendingListExpanded) {
              pendingList.style.display = 'block';
              pendingArrow.style.transform = 'rotate(90deg)';
              pendingPanel.classList.add('expanded');
            }
            if (isFiltersExpanded) {
              filtersContent.style.display = 'block';
              filtersArrow.style.transform = 'rotate(90deg)';
              filtersPanel.classList.add('expanded');
            }
            if (isNoMapeadasListExpanded) {
              noMapeadasList.style.display = 'block';
              noMapeadasArrow.style.transform = 'rotate(90deg)';
              noMapeadasPanel.classList.add('expanded');
            }
            if (savedDarkMode) {
              document.body.classList.add('dark-mode');
            }
            priorityFilter.value = savedPriorityFilter;
            comunaFilter.value = savedComunaFilter;

            // Inicializar mapa
            waitForMap(function() {
              console.log("Mapa inicializado, registrando eventos para marcadores...");
              if (markerCluster) {
                console.log("Registrando eventos para marcadores dentro de MarkerCluster...");
                markerCluster.eachLayer(function(marker) {
                  marker.on('click', function(e) {
                    console.log("Clic en marcador del mapa en posición:", e.latlng);
                    closeCurrentPopup();
                    var popupContent = marker.getPopup().getContent();
                    if (typeof popupContent !== 'string') {
                      popupContent = popupContent.outerHTML;
                    }
                    var latlng = e.latlng;
                    tempMarker = L.marker(latlng).addTo(map);
                    tempMarker.bindPopup(popupContent).openPopup();
                    currentPopup = tempMarker;
                    marker._icon.classList.add('selected');
                    if (selectedMarker) {
                      selectedMarker._icon.classList.remove('selected');
                    }
                    selectedMarker = marker;
                  });
                });
              } else {
                console.log("MarkerCluster no encontrado.");
              }
              
              map.on('popupclose', function() {
                console.log("Popup cerrado en el mapa.");
                closeCurrentPopup();
              });
              
              // Aplicar filtros iniciales
              filtrarPorPrioridad();
              filtrarPorComuna();
              processPendingActions();
            });

            // Elementos de "Direcciones Pendientes"
            var pendingHeader = document.getElementById('pending-header');
            var filtersHeader = document.getElementById('filters-header');
            var pendingSearch = document.getElementById('pending-search');
            var pendingList = document.getElementById('pending-list');

            // Elementos de "Direcciones No Mapeadas"
            var noMapeadasHeader = document.getElementById('no-mapeadas-header');
            var noMapeadasSearch = document.getElementById('no-mapeadas-search');
            var noMapeadasList = document.getElementById('no-mapeadas-list');

            // Elementos del panel de fotos
            var fotosClose = document.getElementById('fotos-close');
            var fotosViewerClose = document.getElementById('fotos-viewer-close');
            var fotosPanel = document.getElementById('fotos-panel');

            // Botones de control
            var locateMeBtn = document.getElementById('locate-me-btn');
            var toggleThemeBtn = document.getElementById('toggle-theme-btn');
            var exportCsvBtn = document.getElementById('export-csv-btn');
            var toggleTableBtn = document.getElementById('toggle-table-btn');
            var toggleComparisonBtn = document.getElementById('toggle-comparison-btn');
            var tableClose = document.getElementById('table-close');
            var tableRows = document.getElementById('table-rows');

            // Verificar que los elementos existen
            if (!pendingHeader || !filtersHeader || !pendingSearch || !pendingList) {
              console.error('No se encontraron los elementos de "Direcciones Pendientes"');
              return;
            }
            if (!noMapeadasHeader || !noMapeadasSearch || !noMapeadasList) {
              console.error('No se encontraron los elementos de "Direcciones No Mapeadas"');
              return;
            }
            if (!fotosClose || !fotosViewerClose || !fotosPanel) {
              console.error('No se encontraron los elementos del panel de fotos');
              return;
            }
            if (!locateMeBtn || !toggleThemeBtn || !exportCsvBtn || !toggleTableBtn || !toggleComparisonBtn || !tableClose || !tableRows) {
              console.error('No se encontraron los botones de control');
              return;
            }

            // Evento para desplegar/colapsar "Direcciones Pendientes"
            pendingHeader.addEventListener('click', toggleLista);
            pendingHeader.addEventListener('keypress', function(e) {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleLista();
              }
            });

            // Evento para desplegar/colapsar los filtros
            filtersHeader.addEventListener('click', toggleFilters);
            filtersHeader.addEventListener('keypress', function(e) {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleFilters();
              }
            });

            // Eventos para filtrar "Direcciones Pendientes"
            pendingSearch.addEventListener('input', filtrarLista);
            pendingSearch.addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                filtrarLista();
              }
            });

            // Evento para centrar al hacer clic en un elemento de la lista
            var pendingItems = pendingList.getElementsByTagName('li');
            for (var i = 0; i < pendingItems.length; i++) {
              pendingItems[i].addEventListener('click', function() {
                centrarEn(this);
              });
            }

            // Evento para desplegar/colapsar "Direcciones No Mapeadas"
            noMapeadasHeader.addEventListener('click', toggleNoMapeadasLista);
            noMapeadasHeader.addEventListener('keypress', function(e) {
              if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleNoMapeadasLista();
              }
            });

            // Evento para filtrar "Direcciones No Mapeadas"
            noMapeadasSearch.addEventListener('input', filtrarNoMapeadasLista);
            noMapeadasSearch.addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                filtrarNoMapeadasLista();
              }
            });

            // Eventos del panel de fotos
            fotosClose.addEventListener('click', cerrarFotos);
            fotosViewerClose.addEventListener('click', cerrarFotoGrande);
            
            // Soporte para gestos táctiles en el panel de fotos
            let touchStartX = 0;
            let touchEndX = 0;
            
            fotosPanel.addEventListener('touchstart', function(e) {
              touchStartX = e.changedTouches[0].screenX;
            });
            
            fotosPanel.addEventListener('touchend', function(e) {
              touchEndX = e.changedTouches[0].screenX;
              if (touchStartX - touchEndX < -50) {
                cerrarFotos();
              }
            });

            // Eventos de botones de control
            locateMeBtn.addEventListener('click', locateMe);
            toggleThemeBtn.addEventListener('click', toggleTheme);
            exportCsvBtn.addEventListener('click', exportToCSV);
            toggleTableBtn.addEventListener('click', toggleTableView);
            toggleComparisonBtn.addEventListener('click', toggleComparisonMode);
            tableClose.addEventListener('click', function() {
              document.getElementById('table-panel').style.display = 'none';
            });

            // Evento para centrar desde la tabla
            tableRows.addEventListener('click', function(e) {
              var target = e.target.closest('tr');
              if (target) {
                centrarEn(target);
              }
            });

            console.log('Eventos inicializados correctamente');
          });
        </script>
        
    
            <div class="folium-map" id="map_79b1dbf76fc73cb5c8408c5b04ee3ef3" ></div>
        
    
        <style>
          /* Estilos para el indicador de carga */
          #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
          }
          #loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
          }
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          /* Estilos para modo oscuro */
          .dark-mode .leaflet-container {
            filter: invert(90%) hue-rotate(180deg);
          }
          .dark-mode #pending-panel, .dark-mode #no-mapeadas-panel, .dark-mode #fotos-panel, .dark-mode #table-panel, .dark-mode #filters-panel {
            background: #333;
            color: #fff;
            border-color: #555;
          }
          .dark-mode #pending-panel.expanded {
            border-color: #66b0ff;
          }
          .dark-mode #no-mapeadas-panel.expanded {
            border-color: #ff6666;
          }
          .dark-mode #filters-panel.expanded {
            border-color: #66b0ff;
          }
          .dark-mode #pending-list li:hover, .dark-mode #no-mapeadas-list li:hover, .dark-mode #table-body tr:hover {
            background: #555;
          }
          .dark-mode #pending-list li.highlight, .dark-mode #no-mapeadas-list li.highlight {
            background: #444;
          }
          .dark-mode #pending-search, .dark-mode #no-mapeadas-search, .dark-mode #comuna-filter, .dark-mode #priority-filter {
            background: #444;
            color: #fff;
            border-color: #666;
          }
          .dark-mode #fotos-header {
            border-bottom: 1px solid #555;
          }
          .dark-mode #fotos-close, .dark-mode #fotos-viewer-close {
            color: #fff;
          }
          .dark-mode #table-header, .dark-mode #filters-header {
            background: #444;
          }
          /* Estilos para paneles de lista */
          #pending-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 8px;
            border: 1px solid gray;
            max-height: 400px;
            overflow: auto;
            font: 12px/1.4 Arial;
            width: 340px;
            border-radius: 4px;
            transition: border-color 0.3s;
          }
          #pending-panel.expanded {
            border-color: #007bff;
          }
          #pending-header {
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            user-select: none;
          }
          #pending-list {
            display: none;
            padding-left: 16px;
            list-style: none;
          }
          #pending-list li {
            cursor: pointer;
            margin: 4px 0;
            padding: 2px;
            transition: background 0.2s;
          }
          #pending-list li:hover {
            background: #eee;
          }
          #pending-list li.highlight {
            background: #e6f3ff;
          }
          #pending-search, #comuna-filter, #priority-filter {
            width: 100%;
            margin: 4px 0;
            padding: 4px;
            font-size: 12px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 3px;
          }
          #pending-arrow {
            transition: transform 0.3s;
            margin-right: 5px;
          }
          /* Estilos para el subpanel de filtros */
          #filters-panel {
            margin-top: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 4px;
            transition: border-color 0.3s;
          }
          #filters-panel.expanded {
            border-color: #007bff;
          }
          #filters-header {
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            user-select: none;
            background: #f0f0f0;
            padding: 4px;
            border-radius: 3px;
          }
          #filters-content {
            display: none;
            padding: 4px;
          }
          #filters-arrow {
            transition: transform 0.3s;
            margin-right: 5px;
          }
          #no-mapeadas-panel {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 1000;
            background: white;
            padding: 8px;
            border: 1px solid red;
            max-height: 400px;
            overflow: auto;
            font: 12px/1.4 Arial;
            width: 340px;
            border-radius: 4px;
            transition: border-color 0.3s;
          }
          #no-mapeadas-panel.expanded {
            border-color: #ff4d4d;
          }
          #no-mapeadas-header {
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            user-select: none;
          }
          #no-mapeadas-list {
            display: none;
            padding-left: 16px;
            list-style: none;
          }
          #no-mapeadas-list li {
            margin: 4px 0;
            padding: 2px;
            transition: background 0.2s;
          }
          #no-mapeadas-list li:hover {
            background: #eee;
          }
          #no-mapeadas-list li.highlight {
            background: #e6f3ff;
          }
          #no-mapeadas-search {
            width: 100%;
            margin: 4px 0;
            padding: 4px;
            font-size: 12px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 3px;
          }
          #no-mapeadas-arrow {
            transition: transform 0.3s;
            margin-right: 5px;
          }
          /* Estilos para el panel de fotos */
          #fotos-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 30%;
            height: 100%;
            background: white;
            border-left: 1px solid #ccc;
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            touch-action: pan-y;
          }
          #fotos-header {
            padding: 10px;
            font: bold 14px Arial;
            border-bottom: 1px solid #ccc;
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          #fotos-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            font: 12px Arial;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
          }
          .foto-item {
            flex: 1 1 100%;
            position: relative;
          }
          .foto-item img {
            width: 100%;
            height: auto;
            max-height: 200px;
            object-fit: contain;
            cursor: pointer;
            border: 1px solid #ddd;
            border-radius: 4px;
          }
          #fotos-close {
            cursor: pointer;
            font-size: 16px;
            color: #333;
          }
          #fotos-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
          }
          #fotos-viewer img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
          }
          #fotos-viewer-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 24px;
            cursor: pointer;
          }
          .leaflet-container {
            width: 100%;
            transition: width 0.3s;
          }
          .fotos-panel-visible .leaflet-container {
            width: 70%;
          }
          /* Estilos para comparación de fotos */
          .comparison-mode #fotos-content {
            flex-direction: row;
            flex-wrap: nowrap;
            position: relative;
          }
          .comparison-mode .foto-item {
            flex: 1;
            position: relative;
          }
          #comparison-divider {
            position: absolute;
            width: 2px;
            background: #007bff;
            height: 100%;
            cursor: ew-resize;
            display: none;
          }
          .comparison-mode #comparison-divider {
            display: block;
          }
          /* Estilos para marcadores interactivos */
          .leaflet-marker-icon.selected {
            transform: scale(1.2);
            transition: transform 0.2s;
          }
          /* Estilos para botones de control */
          #locate-me-btn, #toggle-theme-btn, #export-csv-btn, #toggle-table-btn, #toggle-comparison-btn {
            position: fixed;
            z-index: 1000;
            background: #007bff;
            color: white;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
          }
          #locate-me-btn:hover, #toggle-theme-btn:hover, #export-csv-btn:hover, #toggle-table-btn:hover, #toggle-comparison-btn:hover {
            background: #0056b3;
          }
          #locate-me-btn {
            bottom: 20px;
            left: 20px;
          }
          #toggle-theme-btn {
            bottom: 70px;
            left: 20px;
          }
          #export-csv-btn {
            bottom: 120px;
            left: 20px;
          }
          #toggle-table-btn {
            bottom: 170px;
            left: 20px;
          }
          #toggle-comparison-btn {
            top: 10px;
            right: 360px;
            display: none;
          }
          .fotos-panel-visible #toggle-comparison-btn {
            display: flex;
          }
          /* Estilos para la vista de tabla */
          #table-panel {
            position: fixed;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-height: 80vh;
            background: white;
            border: 1px solid #ccc;
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border-radius: 4px;
          }
          #table-header {
            background: #f0f0f0;
            padding: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
          }
          #table-body {
            flex: 1;
            overflow-y: auto;
            font: 12px Arial;
          }
          #table-body table {
            width: 100%;
            border-collapse: collapse;
          }
          #table-body th, #table-body td {
            padding: 8px;
            border-bottom: 1px solid #ddd;
            text-align: left;
          }
          #table-body th {
            background: #e0e0e0;
            position: sticky;
            top: 0;
            z-index: 10;
          }
          #table-body tr {
            cursor: pointer;
            transition: background 0.2s;
          }
          #table-body tr:hover {
            background: #f0f0f0;
          }
          #table-close {
            cursor: pointer;
            font-size: 16px;
            color: #333;
          }
          @media (max-width: 768px) {
            #pending-panel, #no-mapeadas-panel {
              width: 90vw;
              font-size: 14px;
            }
            #fotos-panel {
              width: 100vw;
            }
            .fotos-panel-visible .leaflet-container {
              width: 100%;
            }
            .foto-item img {
              max-height: 150px;
            }
            #fotos-viewer img {
              max-width: 95%;
              max-height: 85%;
            }
            .comparison-mode .foto-item img {
              max-height: 100px;
            }
            #table-panel {
              width: 95%;
              font-size: 10px;
            }
            #table-body th, #table-body td {
              padding: 4px;
            }
          }
        </style>
        <!-- Indicador de carga -->
        <div id="loading-overlay">
          <div id="loading-spinner"></div>
        </div>
        <!-- Controles del mapa -->
        <div id="pending-panel">
          <div id="pending-header">
            <svg id="pending-arrow" width="14" height="14" viewBox="0 0 24 24">
              <path fill="currentColor" d="M10 17l5-5-5-5v10z"/>
            </svg> Toca para desplegar Direcciones Pendientes <span>(15)</span>
          </div>
          <div id="filters-panel">
            <div id="filters-header">
              <svg id="filters-arrow" width="14" height="14" viewBox="0 0 24 24">
                <path fill="currentColor" d="M10 17l5-5-5-5v10z"/>
              </svg> Filtros
            </div>
            <div id="filters-content">
              <select id="priority-filter" onchange="filtrarPorPrioridad()">
                <option value="all">Todas las Prioridades</option>
                <option value="blue">Prioritarios</option>
                <option value="lightblue">Preventivo sin prioridad</option>
              </select>
              <select id="comuna-filter" onchange="filtrarPorComuna()">
                <option value='all'>Todas las Comunas</option><option value='1'>1</option><option value='3'>3</option><option value='4'>4</option><option value='7'>7</option><option value='11'>11</option><option value='12'>12</option><option value='13'>13</option><option value='14'>14</option><option value='15'>15</option>
              </select>
              <input id="pending-search" placeholder="Buscar Dirección..." type="text">
            </div>
          </div>
          <ul id="pending-list"><li data-lat="-34.629828" data-lng="-58.468589" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;5861&quot; data-comuna=&quot;7&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; TERRADA 38&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 7&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976057&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;cables a baja altura&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 5861&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.629828,-58.468589&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;5861&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="7" data-caso="5861" data-ot="806976057">TERRADA 38</li>
<li data-lat="-34.588033" data-lng="-58.417181" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;5862&quot; data-comuna=&quot;14&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; CHARCAS 3715&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 14&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976061&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza;Cable cortado&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 5862&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.588033,-58.417181&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;5862&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="14" data-caso="5862" data-ot="806976061">CHARCAS 3715</li>
<li data-lat="-34.545825" data-lng="-58.477194" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;5868&quot; data-comuna=&quot;12&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; CONESA 4370&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 12&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976063&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 5868&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.545825,-58.477194&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;5868&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="12" data-caso="5868" data-ot="806976063">CONESA 4370</li>
<li data-lat="-34.55485" data-lng="-58.477391" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;5869&quot; data-comuna=&quot;12&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; SUPERI 3555&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 12&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976064&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 5869&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.55485,-58.477391&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;5869&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="12" data-caso="5869" data-ot="806976064">SUPERI 3555</li>
<li data-lat="-34.640144" data-lng="-58.455714" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;276&quot; data-comuna=&quot;7&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; MANUEL EGUIA 989&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 7&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976065&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;ables cortados sobre el frente de la propiedad.&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 276&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.640144,-58.455714&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;276&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="7" data-caso="276" data-ot="806976065">MANUEL EGUIA 989</li>
<li data-lat="-34.567055" data-lng="-58.503981" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;280&quot; data-comuna=&quot;12&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; CRISÓLOGO LARRALDE 6095&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 12&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976081&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;cables cortados y caídos.&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 280&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.567055,-58.503981&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;280&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="12" data-caso="280" data-ot="806976081">CRISÓLOGO LARRALDE 6095</li>
<li data-lat="-34.579572" data-lng="-58.465007" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;341&quot; data-comuna=&quot;15&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Giribone 1618&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 15&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976083&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;se encuentra un Cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 341&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.579572,-58.465007&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;341&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="15" data-caso="341" data-ot="806976083">Giribone 1618</li>
<li data-lat="-34.629321" data-lng="-58.407447" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;403&quot; data-comuna=&quot;3&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Av Juan de Garay 3049&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 3&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976097&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza de Cablevision.&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 403&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.629321,-58.407447&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;403&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="3" data-caso="403" data-ot="806976097">Av Juan de Garay 3049</li>
<li data-lat="-34.600236" data-lng="-58.51173" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;418&quot; data-comuna=&quot;11&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Nueva York 4010&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 11&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976140&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;se observan tendidos a baja altura.&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 418&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.600236,-58.51173&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;418&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="11" data-caso="418" data-ot="806976140">Nueva York 4010</li>
<li data-lat="-34.633509" data-lng="-58.423735" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;439&quot; data-comuna=&quot;4&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; INCLAN 4293&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 4&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976173&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Retirar cable RG11 cortado PROPIO colgando en altura indicada y atado en poste de la misma&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 439&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.633509,-58.423735&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;439&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="4" data-caso="439" data-ot="806976173">INCLAN 4293</li>
<li data-lat="-34.572183" data-lng="-58.452318" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;641&quot; data-comuna=&quot;13&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Zabala 2838&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 13&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976188&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Se observa un Tendido a baja altura&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 641&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.572183,-58.452318&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;641&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="13" data-caso="641" data-ot="806976188">Zabala 2838</li>
<li data-lat="-34.599811" data-lng="-58.388091" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;716&quot; data-comuna=&quot;1&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; PARANA 763&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 1&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976213&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Tendido a baja altura obstaculiza alzamiento de contenedores&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 716&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.599811,-58.388091&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;716&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="1" data-caso="716" data-ot="806976213">PARANA 763</li>
<li data-lat="-34.618068" data-lng="-58.468107" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;851&quot; data-comuna=&quot;7&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; FRANKLIN 2427&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 7&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976219&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 851&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.618068,-58.468107&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;851&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="7" data-caso="851" data-ot="806976219">FRANKLIN 2427</li>
<li data-lat="-34.603938" data-lng="-58.51244" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;865&quot; data-comuna=&quot;11&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Cantilo, josé Luis 4250&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 11&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976259&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable suelto;cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 865&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.603938,-58.51244&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;865&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="11" data-caso="865" data-ot="806976259">Cantilo, josé Luis 4250</li>
<li data-lat="-34.610845" data-lng="-58.404476" data-popup="&lt;div style=&#x27;width: 200px; font: 12px Arial;&#x27; data-caso=&quot;868&quot; data-comuna=&quot;3&quot;&gt;             &lt;b&gt;Dirección:&lt;/b&gt; Misiones 66&lt;br&gt;             &lt;b&gt;Comuna:&lt;/b&gt; 3&lt;br&gt;             &lt;b&gt;OT:&lt;/b&gt; 806976265&lt;br&gt;             &lt;b&gt;Observaciones:&lt;/b&gt;&lt;br&gt;Cable en panza&lt;br&gt;             &lt;b&gt;Caso:&lt;/b&gt; 868&lt;br&gt;             &lt;b&gt;Ver en Google Maps:&lt;/b&gt; &lt;a href=&quot;https://www.google.com/maps?q=-34.610845,-58.404476&quot; target=&quot;_blank&quot;&gt;Abrir&lt;/a&gt;&lt;br&gt;             &lt;br&gt;&lt;b&gt;&lt;a href=&quot;#&quot; onclick=&quot;mostrarFotos(&#x27;868&#x27;); return false;&quot; style=&quot;font-size: 14px;&quot;&gt;Ver Fotos&lt;/a&gt;&lt;/b&gt;         &lt;/div&gt;" data-comuna="3" data-caso="868" data-ot="806976265">Misiones 66</li></ul>
        </div>
        
        <div id="no-mapeadas-panel">
          <div id="no-mapeadas-header">
            <svg id="no-mapeadas-arrow" width="14" height="14" viewBox="0 0 24 24">
              <path fill="currentColor" d="M10 17l5-5-5-5v10z"/>
            </svg> Direcciones No Mapeadas <span>(0)</span>
          </div>
          <input id="no-mapeadas-search" placeholder="Buscar..." type="text">
          <ul id="no-mapeadas-list"></ul>
        </div>
        
        <!-- Panel de fotos -->
        <div id="fotos-panel">
          <div id="fotos-header">
            <span>Fotos del Reclamo</span>
            <span id="fotos-close">✖</span>
          </div>
          <div id="fotos-content"></div>
        </div>
        <div id="fotos-viewer">
          <img id="fotos-viewer-img" src="">
          <span id="fotos-viewer-close">✖</span>
        </div>
        <div id="comparison-divider"></div>
        
        <!-- Botones de control -->
        <div id="locate-me-btn" title="Centrar en mi ubicación">📍</div>
        <div id="toggle-theme-btn" title="Cambiar tema">🌙</div>
        <div id="export-csv-btn" title="Exportar a CSV">📥</div>
        <div id="toggle-table-btn" title="Ver tabla">📋</div>
        <div id="toggle-comparison-btn" title="Modo Comparación">🔄</div>
        
        <!-- Vista de tabla -->
        <div id="table-panel">
          <div id="table-header">
            <span>Lista Completa de Direcciones</span>
            <span id="table-close">✖</span>
          </div>
          <div id="table-body">
            <table>
              <thead>
                <tr>
                  <th>Dirección</th>
                  <th>Comuna</th>
                  <th>Caso</th>
                  <th>OT</th>
                </tr>
              </thead>
              <tbody id="table-rows"></tbody>
            </table>
          </div>
        </div>
        
</body>
<script>
    
    
            var map_79b1dbf76fc73cb5c8408c5b04ee3ef3 = L.map(
                "map_79b1dbf76fc73cb5c8408c5b04ee3ef3",
                {
                    center: [-34.6037, -58.3816],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 12,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_c4bd201d9cd7fae49757d7e4daead6c3 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_c4bd201d9cd7fae49757d7e4daead6c3.addTo(map_79b1dbf76fc73cb5c8408c5b04ee3ef3);
        
    
            var marker_cluster_162ce97a98afa6dce1b2d881550e4daf = L.markerClusterGroup(
                {
  "spiderfyOnMaxZoom": true,
  "showCoverageOnHover": true,
  "zoomToBoundsOnClick": true,
  "disableClusteringAtZoom": 15,
}
            );
        
    
            var marker_280e9e987406ee32e8d8496ea3976c42 = L.marker(
                [-34.629828, -58.468589],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_aa0bf248e440d744ed9ac334c0e47c27 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_38787c5b4c2dc78956f2a0ab067c5952 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_cb1d9cf519f06367ee940bf6770cfcff = $(`<div id="html_cb1d9cf519f06367ee940bf6770cfcff" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="5861" data-comuna="7">             <b>Dirección:</b> TERRADA 38<br>             <b>Comuna:</b> 7<br>             <b>OT:</b> 806976057<br>             <b>Observaciones:</b><br>cables a baja altura<br>             <b>Caso:</b> 5861<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.629828,-58.468589" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('5861'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_38787c5b4c2dc78956f2a0ab067c5952.setContent(html_cb1d9cf519f06367ee940bf6770cfcff);
            
        

        marker_280e9e987406ee32e8d8496ea3976c42.bindPopup(popup_38787c5b4c2dc78956f2a0ab067c5952)
        ;

        
    
    
                marker_280e9e987406ee32e8d8496ea3976c42.setIcon(icon_aa0bf248e440d744ed9ac334c0e47c27);
            
    
            var marker_81e39f85a3ee4c156ae9ff29a618fed9 = L.marker(
                [-34.588033, -58.417181],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_1db582414f9d1d7c6a4bf2e4764bbbd9 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_3539654d1ffdfe6535876bde0a7ccd41 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_061049fe272dde1e107eb3a7ad9f3e2c = $(`<div id="html_061049fe272dde1e107eb3a7ad9f3e2c" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="5862" data-comuna="14">             <b>Dirección:</b> CHARCAS 3715<br>             <b>Comuna:</b> 14<br>             <b>OT:</b> 806976061<br>             <b>Observaciones:</b><br>Cable en panza;Cable cortado<br>             <b>Caso:</b> 5862<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.588033,-58.417181" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('5862'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_3539654d1ffdfe6535876bde0a7ccd41.setContent(html_061049fe272dde1e107eb3a7ad9f3e2c);
            
        

        marker_81e39f85a3ee4c156ae9ff29a618fed9.bindPopup(popup_3539654d1ffdfe6535876bde0a7ccd41)
        ;

        
    
    
                marker_81e39f85a3ee4c156ae9ff29a618fed9.setIcon(icon_1db582414f9d1d7c6a4bf2e4764bbbd9);
            
    
            var marker_3647d92cd7674bef1db5ccef84984edf = L.marker(
                [-34.545825, -58.477194],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_99357b328eb4536bbe7740f30fadbd12 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_1f7e9d04fe9218b7fe3453f78b9df17b = L.popup({
  "maxWidth": 200,
});

        
            
                var html_6ec8c23fb72a10500ab672ce029b7912 = $(`<div id="html_6ec8c23fb72a10500ab672ce029b7912" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="5868" data-comuna="12">             <b>Dirección:</b> CONESA 4370<br>             <b>Comuna:</b> 12<br>             <b>OT:</b> 806976063<br>             <b>Observaciones:</b><br>Cable en panza<br>             <b>Caso:</b> 5868<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.545825,-58.477194" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('5868'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_1f7e9d04fe9218b7fe3453f78b9df17b.setContent(html_6ec8c23fb72a10500ab672ce029b7912);
            
        

        marker_3647d92cd7674bef1db5ccef84984edf.bindPopup(popup_1f7e9d04fe9218b7fe3453f78b9df17b)
        ;

        
    
    
                marker_3647d92cd7674bef1db5ccef84984edf.setIcon(icon_99357b328eb4536bbe7740f30fadbd12);
            
    
            var marker_70f0bcb35abc56efaf621b22b886206d = L.marker(
                [-34.55485, -58.477391],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_e6a00fbbf431d249f18908c499aba94c = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f09adc272d846264f65bda52cbd55da7 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_c93d7fc96f6cdbade51b2502733e25d7 = $(`<div id="html_c93d7fc96f6cdbade51b2502733e25d7" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="5869" data-comuna="12">             <b>Dirección:</b> SUPERI 3555<br>             <b>Comuna:</b> 12<br>             <b>OT:</b> 806976064<br>             <b>Observaciones:</b><br>Cable en panza<br>             <b>Caso:</b> 5869<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.55485,-58.477391" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('5869'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_f09adc272d846264f65bda52cbd55da7.setContent(html_c93d7fc96f6cdbade51b2502733e25d7);
            
        

        marker_70f0bcb35abc56efaf621b22b886206d.bindPopup(popup_f09adc272d846264f65bda52cbd55da7)
        ;

        
    
    
                marker_70f0bcb35abc56efaf621b22b886206d.setIcon(icon_e6a00fbbf431d249f18908c499aba94c);
            
    
            var marker_2566a62940afd3f063fec4c2a1050c2d = L.marker(
                [-34.640144, -58.455714],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_bb0c56890838e576a5e2c11ceae72758 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_df314e005e5ce5967a45c04907fe3c3a = L.popup({
  "maxWidth": 200,
});

        
            
                var html_6ed0815ba939b88579970b674e88263e = $(`<div id="html_6ed0815ba939b88579970b674e88263e" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="276" data-comuna="7">             <b>Dirección:</b> MANUEL EGUIA 989<br>             <b>Comuna:</b> 7<br>             <b>OT:</b> 806976065<br>             <b>Observaciones:</b><br>ables cortados sobre el frente de la propiedad.<br>             <b>Caso:</b> 276<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.640144,-58.455714" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('276'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_df314e005e5ce5967a45c04907fe3c3a.setContent(html_6ed0815ba939b88579970b674e88263e);
            
        

        marker_2566a62940afd3f063fec4c2a1050c2d.bindPopup(popup_df314e005e5ce5967a45c04907fe3c3a)
        ;

        
    
    
                marker_2566a62940afd3f063fec4c2a1050c2d.setIcon(icon_bb0c56890838e576a5e2c11ceae72758);
            
    
            var marker_d4c8caab8014284b6a94984e0f7b56ad = L.marker(
                [-34.567055, -58.503981],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_ce496555765f3e70a09d04b9870dad9f = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_1a89e90cb84c3f5f58d4b5c70508790c = L.popup({
  "maxWidth": 200,
});

        
            
                var html_ee8ed60d0c066681ab6c373270371d72 = $(`<div id="html_ee8ed60d0c066681ab6c373270371d72" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="280" data-comuna="12">             <b>Dirección:</b> CRISÓLOGO LARRALDE 6095<br>             <b>Comuna:</b> 12<br>             <b>OT:</b> 806976081<br>             <b>Observaciones:</b><br>cables cortados y caídos.<br>             <b>Caso:</b> 280<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.567055,-58.503981" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('280'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_1a89e90cb84c3f5f58d4b5c70508790c.setContent(html_ee8ed60d0c066681ab6c373270371d72);
            
        

        marker_d4c8caab8014284b6a94984e0f7b56ad.bindPopup(popup_1a89e90cb84c3f5f58d4b5c70508790c)
        ;

        
    
    
                marker_d4c8caab8014284b6a94984e0f7b56ad.setIcon(icon_ce496555765f3e70a09d04b9870dad9f);
            
    
            var marker_bd9df505910b25cf3ad723694562ef30 = L.marker(
                [-34.579572, -58.465007],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_ef49d947886feac07ab43fed4ed3d5ab = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_d15fe426ed21092e32c81cb702532ec2 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_e734f33d117246bfe896bc83e0322a93 = $(`<div id="html_e734f33d117246bfe896bc83e0322a93" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="341" data-comuna="15">             <b>Dirección:</b> Giribone 1618<br>             <b>Comuna:</b> 15<br>             <b>OT:</b> 806976083<br>             <b>Observaciones:</b><br>se encuentra un Cable en panza<br>             <b>Caso:</b> 341<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.579572,-58.465007" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('341'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_d15fe426ed21092e32c81cb702532ec2.setContent(html_e734f33d117246bfe896bc83e0322a93);
            
        

        marker_bd9df505910b25cf3ad723694562ef30.bindPopup(popup_d15fe426ed21092e32c81cb702532ec2)
        ;

        
    
    
                marker_bd9df505910b25cf3ad723694562ef30.setIcon(icon_ef49d947886feac07ab43fed4ed3d5ab);
            
    
            var marker_e0dd5a34b904053661932f3acac9fec9 = L.marker(
                [-34.629321, -58.407447],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_beacd7c30695b547ded55dcba71f0738 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_510277cf9ea76d8f432e8c2d9785b5e9 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_64ecc926eb62a1ce73373542fd93179e = $(`<div id="html_64ecc926eb62a1ce73373542fd93179e" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="403" data-comuna="3">             <b>Dirección:</b> Av Juan de Garay 3049<br>             <b>Comuna:</b> 3<br>             <b>OT:</b> 806976097<br>             <b>Observaciones:</b><br>Cable en panza de Cablevision.<br>             <b>Caso:</b> 403<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.629321,-58.407447" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('403'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_510277cf9ea76d8f432e8c2d9785b5e9.setContent(html_64ecc926eb62a1ce73373542fd93179e);
            
        

        marker_e0dd5a34b904053661932f3acac9fec9.bindPopup(popup_510277cf9ea76d8f432e8c2d9785b5e9)
        ;

        
    
    
                marker_e0dd5a34b904053661932f3acac9fec9.setIcon(icon_beacd7c30695b547ded55dcba71f0738);
            
    
            var marker_4700d0880eaf950458a59a3ad55db204 = L.marker(
                [-34.600236, -58.51173],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_dbe6e51f7614a4162d749a131e1fe7e3 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_812d0b3dc3f493d18bd0a28ec3f8056a = L.popup({
  "maxWidth": 200,
});

        
            
                var html_ba71da2779caa41928c688be274d8e52 = $(`<div id="html_ba71da2779caa41928c688be274d8e52" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="418" data-comuna="11">             <b>Dirección:</b> Nueva York 4010<br>             <b>Comuna:</b> 11<br>             <b>OT:</b> 806976140<br>             <b>Observaciones:</b><br>se observan tendidos a baja altura.<br>             <b>Caso:</b> 418<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.600236,-58.51173" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('418'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_812d0b3dc3f493d18bd0a28ec3f8056a.setContent(html_ba71da2779caa41928c688be274d8e52);
            
        

        marker_4700d0880eaf950458a59a3ad55db204.bindPopup(popup_812d0b3dc3f493d18bd0a28ec3f8056a)
        ;

        
    
    
                marker_4700d0880eaf950458a59a3ad55db204.setIcon(icon_dbe6e51f7614a4162d749a131e1fe7e3);
            
    
            var marker_719f0cc956f9193952edf926f85ffd19 = L.marker(
                [-34.633509, -58.423735],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_5322e08a8742d572220583847de86490 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_980cc996b07dbd424846e12bffea67fa = L.popup({
  "maxWidth": 200,
});

        
            
                var html_25f21f5222911f0d7102030632746369 = $(`<div id="html_25f21f5222911f0d7102030632746369" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="439" data-comuna="4">             <b>Dirección:</b> INCLAN 4293<br>             <b>Comuna:</b> 4<br>             <b>OT:</b> 806976173<br>             <b>Observaciones:</b><br>Retirar cable RG11 cortado PROPIO colgando en altura indicada y atado en poste de la misma<br>             <b>Caso:</b> 439<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.633509,-58.423735" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('439'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_980cc996b07dbd424846e12bffea67fa.setContent(html_25f21f5222911f0d7102030632746369);
            
        

        marker_719f0cc956f9193952edf926f85ffd19.bindPopup(popup_980cc996b07dbd424846e12bffea67fa)
        ;

        
    
    
                marker_719f0cc956f9193952edf926f85ffd19.setIcon(icon_5322e08a8742d572220583847de86490);
            
    
            var marker_f1ebe14be31caad021313b189eaea639 = L.marker(
                [-34.572183, -58.452318],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_8ef7e7ad85a2435623bbcb86fb5f282d = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_6b180e4c5cf2a43e4810e093e1f1cdc9 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_26bf767b7618844ed7fa86e342aa0e0b = $(`<div id="html_26bf767b7618844ed7fa86e342aa0e0b" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="641" data-comuna="13">             <b>Dirección:</b> Zabala 2838<br>             <b>Comuna:</b> 13<br>             <b>OT:</b> 806976188<br>             <b>Observaciones:</b><br>Se observa un Tendido a baja altura<br>             <b>Caso:</b> 641<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.572183,-58.452318" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('641'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_6b180e4c5cf2a43e4810e093e1f1cdc9.setContent(html_26bf767b7618844ed7fa86e342aa0e0b);
            
        

        marker_f1ebe14be31caad021313b189eaea639.bindPopup(popup_6b180e4c5cf2a43e4810e093e1f1cdc9)
        ;

        
    
    
                marker_f1ebe14be31caad021313b189eaea639.setIcon(icon_8ef7e7ad85a2435623bbcb86fb5f282d);
            
    
            var marker_f9302c67c0647811f74c5e4cada218d2 = L.marker(
                [-34.599811, -58.388091],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_41b821074cc5777dfdd5dd9265976a75 = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_f950e065697cc6c23ac9be3385749e8b = L.popup({
  "maxWidth": 200,
});

        
            
                var html_b2fee4e15e17dd154536fe5895907e87 = $(`<div id="html_b2fee4e15e17dd154536fe5895907e87" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="716" data-comuna="1">             <b>Dirección:</b> PARANA 763<br>             <b>Comuna:</b> 1<br>             <b>OT:</b> 806976213<br>             <b>Observaciones:</b><br>Tendido a baja altura obstaculiza alzamiento de contenedores<br>             <b>Caso:</b> 716<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.599811,-58.388091" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('716'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_f950e065697cc6c23ac9be3385749e8b.setContent(html_b2fee4e15e17dd154536fe5895907e87);
            
        

        marker_f9302c67c0647811f74c5e4cada218d2.bindPopup(popup_f950e065697cc6c23ac9be3385749e8b)
        ;

        
    
    
                marker_f9302c67c0647811f74c5e4cada218d2.setIcon(icon_41b821074cc5777dfdd5dd9265976a75);
            
    
            var marker_0750f1753cc589ed329c613cf11456b1 = L.marker(
                [-34.618068, -58.468107],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_9405c08b2cd8d0b64e6a15d25690328d = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_0219b6bf9ae163a7fbda8450cbfbabc2 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_de0a522e1f15fd2bd5c6f83bedacbb57 = $(`<div id="html_de0a522e1f15fd2bd5c6f83bedacbb57" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="851" data-comuna="7">             <b>Dirección:</b> FRANKLIN 2427<br>             <b>Comuna:</b> 7<br>             <b>OT:</b> 806976219<br>             <b>Observaciones:</b><br>Cable en panza<br>             <b>Caso:</b> 851<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.618068,-58.468107" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('851'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_0219b6bf9ae163a7fbda8450cbfbabc2.setContent(html_de0a522e1f15fd2bd5c6f83bedacbb57);
            
        

        marker_0750f1753cc589ed329c613cf11456b1.bindPopup(popup_0219b6bf9ae163a7fbda8450cbfbabc2)
        ;

        
    
    
                marker_0750f1753cc589ed329c613cf11456b1.setIcon(icon_9405c08b2cd8d0b64e6a15d25690328d);
            
    
            var marker_1b108aa1fcd5c0c34d3524a56d9f78b8 = L.marker(
                [-34.603938, -58.51244],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_c0ad32a7cec9833a2dd107adaf14a82f = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_e53db439d63123a49b7160f9fa5fea59 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_46fd9a71ba2a3bdf028d5547cfe5318f = $(`<div id="html_46fd9a71ba2a3bdf028d5547cfe5318f" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="865" data-comuna="11">             <b>Dirección:</b> Cantilo, josé Luis 4250<br>             <b>Comuna:</b> 11<br>             <b>OT:</b> 806976259<br>             <b>Observaciones:</b><br>Cable suelto;cable en panza<br>             <b>Caso:</b> 865<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.603938,-58.51244" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('865'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_e53db439d63123a49b7160f9fa5fea59.setContent(html_46fd9a71ba2a3bdf028d5547cfe5318f);
            
        

        marker_1b108aa1fcd5c0c34d3524a56d9f78b8.bindPopup(popup_e53db439d63123a49b7160f9fa5fea59)
        ;

        
    
    
                marker_1b108aa1fcd5c0c34d3524a56d9f78b8.setIcon(icon_c0ad32a7cec9833a2dd107adaf14a82f);
            
    
            var marker_bb82228a2bdb002c35d577894c85d889 = L.marker(
                [-34.610845, -58.404476],
                {
}
            ).addTo(marker_cluster_162ce97a98afa6dce1b2d881550e4daf);
        
    
            var icon_3759773ce941604d07fe72b61558cdfb = L.AwesomeMarkers.icon(
                {
  "markerColor": "blue",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "glyphicon",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_1f365c227175d331c47c36a71ce84db3 = L.popup({
  "maxWidth": 200,
});

        
            
                var html_438c08d3a72682545b38693e29864897 = $(`<div id="html_438c08d3a72682545b38693e29864897" style="width: 100.0%; height: 100.0%;">         <div style='width: 200px; font: 12px Arial;' data-caso="868" data-comuna="3">             <b>Dirección:</b> Misiones 66<br>             <b>Comuna:</b> 3<br>             <b>OT:</b> 806976265<br>             <b>Observaciones:</b><br>Cable en panza<br>             <b>Caso:</b> 868<br>             <b>Ver en Google Maps:</b> <a href="https://www.google.com/maps?q=-34.610845,-58.404476" target="_blank">Abrir</a><br>             <br><b><a href="#" onclick="mostrarFotos('868'); return false;" style="font-size: 14px;">Ver Fotos</a></b>         </div>         </div>`)[0];
                popup_1f365c227175d331c47c36a71ce84db3.setContent(html_438c08d3a72682545b38693e29864897);
            
        

        marker_bb82228a2bdb002c35d577894c85d889.bindPopup(popup_1f365c227175d331c47c36a71ce84db3)
        ;

        
    
    
                marker_bb82228a2bdb002c35d577894c85d889.setIcon(icon_3759773ce941604d07fe72b61558cdfb);
            
    
            marker_cluster_162ce97a98afa6dce1b2d881550e4daf.addTo(map_79b1dbf76fc73cb5c8408c5b04ee3ef3);
        
</script>
</html>